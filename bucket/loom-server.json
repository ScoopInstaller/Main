{
    "version": "1.0.1",
    "description": "Loom agent server with multi-agent orchestration and gRPC/HTTP APIs",
    "homepage": "https://github.com/teradata-labs/loom",
    "license": "Apache-2.0",
    "architecture": {
        "64bit": {
            "url": "https://github.com/teradata-labs/loom/releases/download/v1.0.1/looms-windows-amd64.exe.zip",
            "hash": "3c538793746f2255a16e3e74f2377a7ee9a7126003bfc1b5ea14d6644aed1f6f",
            "extract_dir": ""
        }
    },
    "bin": "looms-windows-amd64.exe",
    "checkver": {
        "github": "https://github.com/teradata-labs/loom"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/teradata-labs/loom/releases/download/v$version/looms-windows-amd64.exe.zip"
            }
        }
    },
    "post_install": [
        "Write-Host 'Creating Loom data directory...' -ForegroundColor Green",
        "New-Item -ItemType Directory -Force -Path \"$env:USERPROFILE\\.loom\" | Out-Null",
        "New-Item -ItemType Directory -Force -Path \"$env:USERPROFILE\\.loom\\patterns\" | Out-Null",
        "",
        "Write-Host 'Downloading patterns...' -ForegroundColor Green",
        "$patternsUrl = 'https://github.com/teradata-labs/loom/archive/refs/heads/main.zip'",
        "$tempZip = \"$env:TEMP\\loom-patterns.zip\"",
        "Invoke-WebRequest -Uri $patternsUrl -OutFile $tempZip",
        "Expand-Archive -Path $tempZip -DestinationPath \"$env:TEMP\\loom-temp\" -Force",
        "Copy-Item -Path \"$env:TEMP\\loom-temp\\loom-main\\patterns\\*\" -Destination \"$env:USERPROFILE\\.loom\\patterns\\\" -Recurse -Force",
        "Remove-Item -Path $tempZip -Force",
        "Remove-Item -Path \"$env:TEMP\\loom-temp\" -Recurse -Force",
        "",
        "Write-Host 'Setting environment variables...' -ForegroundColor Green",
        "[Environment]::SetEnvironmentVariable('LOOM_DATA_DIR', \"$env:USERPROFILE\\.loom\", 'User')"
    ],
    "notes": [
        "Loom server (looms) installed successfully!",
        "",
        "Patterns installed to: $env:USERPROFILE\\.loom\\patterns",
        "",
        "Next steps:",
        "  1. Configure an LLM provider:",
        "     looms-windows-amd64 config set llm.provider anthropic",
        "     looms-windows-amd64 config set-key anthropic_api_key",
        "",
        "  2. Start the server:",
        "     looms-windows-amd64 serve",
        "",
        "  3. Connect with the TUI client:",
        "     scoop install loom",
        "     loom-windows-amd64 --thread weaver",
        "",
        "Documentation: https://github.com/teradata-labs/loom#readme"
    ]
}
